<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HealthTracker - Cloud-Based Personal Health &amp; Fitness Tracker</title>
    <style>
:root {
  /* Primitive Color Tokens */
  --color-white: rgba(255, 255, 255, 1);
  --color-black: rgba(0, 0, 0, 1);
  --color-cream-50: rgba(252, 252, 249, 1);
  --color-cream-100: rgba(255, 255, 253, 1);
  --color-gray-200: rgba(245, 245, 245, 1);
  --color-gray-300: rgba(167, 169, 169, 1);
  --color-gray-400: rgba(119, 124, 124, 1);
  --color-slate-500: rgba(98, 108, 113, 1);
  --color-brown-600: rgba(94, 82, 64, 1);
  --color-charcoal-700: rgba(31, 33, 33, 1);
  --color-charcoal-800: rgba(38, 40, 40, 1);
  --color-slate-900: rgba(19, 52, 59, 1);
  --color-teal-300: rgba(50, 184, 198, 1);
  --color-teal-400: rgba(45, 166, 178, 1);
  --color-teal-500: rgba(33, 128, 141, 1);
  --color-teal-600: rgba(29, 116, 128, 1);
  --color-teal-700: rgba(26, 104, 115, 1);
  --color-teal-800: rgba(41, 150, 161, 1);
  --color-red-400: rgba(255, 84, 89, 1);
  --color-red-500: rgba(192, 21, 47, 1);
  --color-orange-400: rgba(230, 129, 97, 1);
  --color-orange-500: rgba(168, 75, 47, 1);

  /* RGB versions for opacity control */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;
  --color-slate-500-rgb: 98, 108, 113;
  --color-red-500-rgb: 192, 21, 47;
  --color-red-400-rgb: 255, 84, 89;
  --color-orange-500-rgb: 168, 75, 47;
  --color-orange-400-rgb: 230, 129, 97;

  /* Background color tokens (Light Mode) */
  --color-bg-1: rgba(59, 130, 246, 0.08); /* Light blue */
  --color-bg-2: rgba(245, 158, 11, 0.08); /* Light yellow */
  --color-bg-3: rgba(34, 197, 94, 0.08); /* Light green */
  --color-bg-4: rgba(239, 68, 68, 0.08); /* Light red */
  --color-bg-5: rgba(147, 51, 234, 0.08); /* Light purple */
  --color-bg-6: rgba(249, 115, 22, 0.08); /* Light orange */
  --color-bg-7: rgba(236, 72, 153, 0.08); /* Light pink */
  --color-bg-8: rgba(6, 182, 212, 0.08); /* Light cyan */

  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
  --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);

  /* Common style patterns */
  --focus-ring: 0 0 0 3px var(--color-focus-ring);
  --focus-outline: 2px solid var(--color-primary);
  --status-bg-opacity: 0.15;
  --status-border-opacity: 0.25;
  --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

  /* RGB versions for opacity control */
  --color-success-rgb: 33, 128, 141;
  --color-error-rgb: 192, 21, 47;
  --color-warning-rgb: 168, 75, 47;
  --color-info-rgb: 98, 108, 113;

  /* Typography */
  --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
    Monaco, Consolas, monospace;
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 30px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 550;
  --font-weight-bold: 600;
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --letter-spacing-tight: -0.01em;

  /* Spacing */
  --space-0: 0;
  --space-1: 1px;
  --space-2: 2px;
  --space-4: 4px;
  --space-6: 6px;
  --space-8: 8px;
  --space-10: 10px;
  --space-12: 12px;
  --space-16: 16px;
  --space-20: 20px;
  --space-24: 24px;
  --space-32: 32px;

  /* Border Radius */
  --radius-sm: 6px;
  --radius-base: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
    0 2px 4px -1px rgba(0, 0, 0, 0.02);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
    0 4px 6px -2px rgba(0, 0, 0, 0.02);
  --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);

  /* Animation */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);

  /* Layout */
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
}

/* Dark mode colors */
@media (prefers-color-scheme: dark) {
  :root {
    /* RGB versions for opacity control (Dark Mode) */
    --color-gray-400-rgb: 119, 124, 124;
    --color-teal-300-rgb: 50, 184, 198;
    --color-gray-300-rgb: 167, 169, 169;
    --color-gray-200-rgb: 245, 245, 245;

    /* Background color tokens (Dark Mode) */
    --color-bg-1: rgba(29, 78, 216, 0.15); /* Dark blue */
    --color-bg-2: rgba(180, 83, 9, 0.15); /* Dark yellow */
    --color-bg-3: rgba(21, 128, 61, 0.15); /* Dark green */
    --color-bg-4: rgba(185, 28, 28, 0.15); /* Dark red */
    --color-bg-5: rgba(107, 33, 168, 0.15); /* Dark purple */
    --color-bg-6: rgba(194, 65, 12, 0.15); /* Dark orange */
    --color-bg-7: rgba(190, 24, 93, 0.15); /* Dark pink */
    --color-bg-8: rgba(8, 145, 178, 0.15); /* Dark cyan */

    /* Semantic Color Tokens (Dark Mode) */
    --color-background: var(--color-charcoal-700);
    --color-surface: var(--color-charcoal-800);
    --color-text: var(--color-gray-200);
    --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
    --color-primary: var(--color-teal-300);
    --color-primary-hover: var(--color-teal-400);
    --color-primary-active: var(--color-teal-800);
    --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
    --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
    --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
    --color-border: rgba(var(--color-gray-400-rgb), 0.3);
    --color-error: var(--color-red-400);
    --color-success: var(--color-teal-300);
    --color-warning: var(--color-orange-400);
    --color-info: var(--color-gray-300);
    --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
    --color-btn-primary-text: var(--color-slate-900);
    --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
    --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
    --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
      inset 0 -1px 0 rgba(0, 0, 0, 0.15);
    --button-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
    --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
    --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

    /* Common style patterns - updated for dark mode */
    --focus-ring: 0 0 0 3px var(--color-focus-ring);
    --focus-outline: 2px solid var(--color-primary);
    --status-bg-opacity: 0.15;
    --status-border-opacity: 0.25;
    --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

    /* RGB versions for dark mode */
    --color-success-rgb: var(--color-teal-300-rgb);
    --color-error-rgb: var(--color-red-400-rgb);
    --color-warning-rgb: var(--color-orange-400-rgb);
    --color-info-rgb: var(--color-gray-300-rgb);
  }
}

/* Data attribute for manual theme switching */
[data-color-scheme="dark"] {
  /* RGB versions for opacity control (dark mode) */
  --color-gray-400-rgb: 119, 124, 124;
  --color-teal-300-rgb: 50, 184, 198;
  --color-gray-300-rgb: 167, 169, 169;
  --color-gray-200-rgb: 245, 245, 245;

  /* Colorful background palette - Dark Mode */
  --color-bg-1: rgba(29, 78, 216, 0.15); /* Dark blue */
  --color-bg-2: rgba(180, 83, 9, 0.15); /* Dark yellow */
  --color-bg-3: rgba(21, 128, 61, 0.15); /* Dark green */
  --color-bg-4: rgba(185, 28, 28, 0.15); /* Dark red */
  --color-bg-5: rgba(107, 33, 168, 0.15); /* Dark purple */
  --color-bg-6: rgba(194, 65, 12, 0.15); /* Dark orange */
  --color-bg-7: rgba(190, 24, 93, 0.15); /* Dark pink */
  --color-bg-8: rgba(8, 145, 178, 0.15); /* Dark cyan */

  /* Semantic Color Tokens (Dark Mode) */
  --color-background: var(--color-charcoal-700);
  --color-surface: var(--color-charcoal-800);
  --color-text: var(--color-gray-200);
  --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
  --color-primary: var(--color-teal-300);
  --color-primary-hover: var(--color-teal-400);
  --color-primary-active: var(--color-teal-800);
  --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
  --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
  --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
  --color-border: rgba(var(--color-gray-400-rgb), 0.3);
  --color-error: var(--color-red-400);
  --color-success: var(--color-teal-300);
  --color-warning: var(--color-orange-400);
  --color-info: var(--color-gray-300);
  --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
  --color-btn-primary-text: var(--color-slate-900);
  --color-card-border: rgba(var(--color-gray-400-rgb), 0.15);
  --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
  --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
  --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

  /* Common style patterns - updated for dark mode */
  --focus-ring: 0 0 0 3px var(--color-focus-ring);
  --focus-outline: 2px solid var(--color-primary);
  --status-bg-opacity: 0.15;
  --status-border-opacity: 0.25;
  --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

  /* RGB versions for dark mode */
  --color-success-rgb: var(--color-teal-300-rgb);
  --color-error-rgb: var(--color-red-400-rgb);
  --color-warning-rgb: var(--color-orange-400-rgb);
  --color-info-rgb: var(--color-gray-300-rgb);
}

[data-color-scheme="light"] {
  /* RGB versions for opacity control (light mode) */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;

  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);

  /* RGB versions for light mode */
  --color-success-rgb: var(--color-teal-500-rgb);
  --color-error-rgb: var(--color-red-500-rgb);
  --color-warning-rgb: var(--color-orange-500-rgb);
  --color-info-rgb: var(--color-slate-500-rgb);
}

/* Base styles */
html {
  font-size: var(--font-size-base);
  font-family: var(--font-family-base);
  line-height: var(--line-height-normal);
  color: var(--color-text);
  background-color: var(--color-background);
  -webkit-font-smoothing: antialiased;
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

/* Typography */
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
  color: var(--color-text);
  letter-spacing: var(--letter-spacing-tight);
}

h1 {
  font-size: var(--font-size-4xl);
}
h2 {
  font-size: var(--font-size-3xl);
}
h3 {
  font-size: var(--font-size-2xl);
}
h4 {
  font-size: var(--font-size-xl);
}
h5 {
  font-size: var(--font-size-lg);
}
h6 {
  font-size: var(--font-size-md);
}

p {
  margin: 0 0 var(--space-16) 0;
}

a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--duration-fast) var(--ease-standard);
}

a:hover {
  color: var(--color-primary-hover);
}

code,
pre {
  font-family: var(--font-family-mono);
  font-size: calc(var(--font-size-base) * 0.95);
  background-color: var(--color-secondary);
  border-radius: var(--radius-sm);
}

code {
  padding: var(--space-1) var(--space-4);
}

pre {
  padding: var(--space-16);
  margin: var(--space-16) 0;
  overflow: auto;
  border: 1px solid var(--color-border);
}

pre code {
  background: none;
  padding: 0;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-8) var(--space-16);
  border-radius: var(--radius-base);
  font-size: var(--font-size-base);
  font-weight: 500;
  line-height: 1.5;
  cursor: pointer;
  transition: all var(--duration-normal) var(--ease-standard);
  border: none;
  text-decoration: none;
  position: relative;
}

.btn:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

.btn--primary {
  background: var(--color-primary);
  color: var(--color-btn-primary-text);
}

.btn--primary:hover {
  background: var(--color-primary-hover);
}

.btn--primary:active {
  background: var(--color-primary-active);
}

.btn--secondary {
  background: var(--color-secondary);
  color: var(--color-text);
}

.btn--secondary:hover {
  background: var(--color-secondary-hover);
}

.btn--secondary:active {
  background: var(--color-secondary-active);
}

.btn--outline {
  background: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text);
}

.btn--outline:hover {
  background: var(--color-secondary);
}

.btn--sm {
  padding: var(--space-4) var(--space-12);
  font-size: var(--font-size-sm);
  border-radius: var(--radius-sm);
}

.btn--lg {
  padding: var(--space-10) var(--space-20);
  font-size: var(--font-size-lg);
  border-radius: var(--radius-md);
}

.btn--full-width {
  width: 100%;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Form elements */
.form-control {
  display: block;
  width: 100%;
  padding: var(--space-8) var(--space-12);
  font-size: var(--font-size-md);
  line-height: 1.5;
  color: var(--color-text);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  transition: border-color var(--duration-fast) var(--ease-standard),
    box-shadow var(--duration-fast) var(--ease-standard);
}

textarea.form-control {
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
}

select.form-control {
  padding: var(--space-8) var(--space-12);
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: var(--select-caret-light);
  background-repeat: no-repeat;
  background-position: right var(--space-12) center;
  background-size: 16px;
  padding-right: var(--space-32);
}

/* Add a dark mode specific caret */
@media (prefers-color-scheme: dark) {
  select.form-control {
    background-image: var(--select-caret-dark);
  }
}

/* Also handle data-color-scheme */
[data-color-scheme="dark"] select.form-control {
  background-image: var(--select-caret-dark);
}

[data-color-scheme="light"] select.form-control {
  background-image: var(--select-caret-light);
}

.form-control:focus {
  border-color: var(--color-primary);
  outline: var(--focus-outline);
}

.form-label {
  display: block;
  margin-bottom: var(--space-8);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-sm);
}

.form-group {
  margin-bottom: var(--space-16);
}

/* Card component */
.card {
  background-color: var(--color-surface);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-card-border);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: box-shadow var(--duration-normal) var(--ease-standard);
}

.card:hover {
  box-shadow: var(--shadow-md);
}

.card__body {
  padding: var(--space-16);
}

.card__header,
.card__footer {
  padding: var(--space-16);
  border-bottom: 1px solid var(--color-card-border-inner);
}

/* Status indicators - simplified with CSS variables */
.status {
  display: inline-flex;
  align-items: center;
  padding: var(--space-6) var(--space-12);
  border-radius: var(--radius-full);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-sm);
}

.status--success {
  background-color: rgba(
    var(--color-success-rgb, 33, 128, 141),
    var(--status-bg-opacity)
  );
  color: var(--color-success);
  border: 1px solid
    rgba(var(--color-success-rgb, 33, 128, 141), var(--status-border-opacity));
}

.status--error {
  background-color: rgba(
    var(--color-error-rgb, 192, 21, 47),
    var(--status-bg-opacity)
  );
  color: var(--color-error);
  border: 1px solid
    rgba(var(--color-error-rgb, 192, 21, 47), var(--status-border-opacity));
}

.status--warning {
  background-color: rgba(
    var(--color-warning-rgb, 168, 75, 47),
    var(--status-bg-opacity)
  );
  color: var(--color-warning);
  border: 1px solid
    rgba(var(--color-warning-rgb, 168, 75, 47), var(--status-border-opacity));
}

.status--info {
  background-color: rgba(
    var(--color-info-rgb, 98, 108, 113),
    var(--status-bg-opacity)
  );
  color: var(--color-info);
  border: 1px solid
    rgba(var(--color-info-rgb, 98, 108, 113), var(--status-border-opacity));
}

/* Container layout */
.container {
  width: 100%;
  margin-right: auto;
  margin-left: auto;
  padding-right: var(--space-16);
  padding-left: var(--space-16);
}

@media (min-width: 640px) {
  .container {
    max-width: var(--container-sm);
  }
}
@media (min-width: 768px) {
  .container {
    max-width: var(--container-md);
  }
}
@media (min-width: 1024px) {
  .container {
    max-width: var(--container-lg);
  }
}
@media (min-width: 1280px) {
  .container {
    max-width: var(--container-xl);
  }
}

/* Utility classes */
.flex {
  display: flex;
}
.flex-col {
  flex-direction: column;
}
.items-center {
  align-items: center;
}
.justify-center {
  justify-content: center;
}
.justify-between {
  justify-content: space-between;
}
.gap-4 {
  gap: var(--space-4);
}
.gap-8 {
  gap: var(--space-8);
}
.gap-16 {
  gap: var(--space-16);
}

.m-0 {
  margin: 0;
}
.mt-8 {
  margin-top: var(--space-8);
}
.mb-8 {
  margin-bottom: var(--space-8);
}
.mx-8 {
  margin-left: var(--space-8);
  margin-right: var(--space-8);
}
.my-8 {
  margin-top: var(--space-8);
  margin-bottom: var(--space-8);
}

.p-0 {
  padding: 0;
}
.py-8 {
  padding-top: var(--space-8);
  padding-bottom: var(--space-8);
}
.px-8 {
  padding-left: var(--space-8);
  padding-right: var(--space-8);
}
.py-16 {
  padding-top: var(--space-16);
  padding-bottom: var(--space-16);
}
.px-16 {
  padding-left: var(--space-16);
  padding-right: var(--space-16);
}

.block {
  display: block;
}
.hidden {
  display: none;
}

/* Accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

:focus-visible {
  outline: var(--focus-outline);
  outline-offset: 2px;
}

/* Dark mode specifics */
[data-color-scheme="dark"] .btn--outline {
  border: 1px solid var(--color-border-secondary);
}

@font-face {
  font-family: 'FKGroteskNeue';
  src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2')
    format('woff2');
}

/* END PERPLEXITY DESIGN SYSTEM */
:root {
  /* Primitive Color Tokens */
  --color-white: rgba(255, 255, 255, 1);
  --color-black: rgba(0, 0, 0, 1);
  --color-cream-50: rgba(252, 252, 249, 1);
  --color-cream-100: rgba(255, 255, 253, 1);
  --color-gray-200: rgba(245, 245, 245, 1);
  --color-gray-300: rgba(167, 169, 169, 1);
  --color-gray-400: rgba(119, 124, 124, 1);
  --color-slate-500: rgba(98, 108, 113, 1);
  --color-brown-600: rgba(94, 82, 64, 1);
  --color-charcoal-700: rgba(31, 33, 33, 1);
  --color-charcoal-800: rgba(38, 40, 40, 1);
  --color-slate-900: rgba(19, 52, 59, 1);
  --color-teal-300: rgba(50, 184, 198, 1);
  --color-teal-400: rgba(45, 166, 178, 1);
  --color-teal-500: rgba(33, 128, 141, 1);
  --color-teal-600: rgba(29, 116, 128, 1);
  --color-teal-700: rgba(26, 104, 115, 1);
  --color-teal-800: rgba(41, 150, 161, 1);
  --color-red-400: rgba(255, 84, 89, 1);
  --color-red-500: rgba(192, 21, 47, 1);
  --color-orange-400: rgba(230, 129, 97, 1);
  --color-orange-500: rgba(168, 75, 47, 1);

  /* RGB versions for opacity control */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;
  --color-slate-500-rgb: 98, 108, 113;
  --color-red-500-rgb: 192, 21, 47;
  --color-red-400-rgb: 255, 84, 89;
  --color-orange-500-rgb: 168, 75, 47;
  --color-orange-400-rgb: 230, 129, 97;

  /* Background color tokens (Light Mode) */
  --color-bg-1: rgba(59, 130, 246, 0.08);
  --color-bg-2: rgba(245, 158, 11, 0.08);
  --color-bg-3: rgba(34, 197, 94, 0.08);
  --color-bg-4: rgba(239, 68, 68, 0.08);
  --color-bg-5: rgba(147, 51, 234, 0.08);
  --color-bg-6: rgba(249, 115, 22, 0.08);
  --color-bg-7: rgba(236, 72, 153, 0.08);
  --color-bg-8: rgba(6, 182, 212, 0.08);

  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
  --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);

  /* Vibrant theme colors */
  --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  --gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  --gradient-warning: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
  --gradient-hero: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
  --gradient-card: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
  
  /* Shadow definitions */
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.15);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
  --shadow-xl: 0 12px 40px rgba(0, 0, 0, 0.25);
  
  /* Animation properties */
  --transition-fast: all 0.2s ease;
  --transition-normal: all 0.3s ease;
  --transition-slow: all 0.5s ease;
  
  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;
  
  /* Border radius */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;
  --radius-full: 50px;

  /* Typography */
  --font-family-base: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, "Roboto", "Oxygen", "Ubuntu", "Cantarell", sans-serif;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
}

/* Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-family-base);
  background: var(--color-background);
  color: var(--color-text);
  line-height: 1.6;
  overflow-x: hidden;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--space-md);
}

/* Navigation */
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  z-index: 1000;
  transition: var(--transition-normal);
}

.nav-container {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-md);
}

.nav-logo {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  font-size: var(--font-size-xl);
  font-weight: 700;
  color: var(--color-primary);
}

.nav-menu {
  display: flex;
  align-items: center;
  gap: var(--space-lg);
}

.nav-link {
  text-decoration: none;
  color: var(--color-text);
  font-weight: 500;
  transition: var(--transition-fast);
}

.nav-link:hover {
  color: var(--color-primary);
}

.nav-toggle {
  display: none;
  flex-direction: column;
  cursor: pointer;
}

.nav-toggle span {
  width: 25px;
  height: 3px;
  background: var(--color-text);
  margin: 3px 0;
  transition: var(--transition-fast);
}

/* Hero Section */
.hero-section {
  min-height: 100vh;
  position: relative;
  display: flex;
  flex-direction: column;
}

.hero-background {
  background: var(--gradient-hero);
  flex: 1;
  display: flex;
  align-items: center;
  padding-top: 80px;
}

.hero-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-2xl) var(--space-md);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-3xl);
  align-items: center;
}

.hero-text {
  color: white;
}

.hero-title {
  font-size: var(--font-size-5xl);
  font-weight: 800;
  margin-bottom: var(--space-lg);
  line-height: 1.2;
}

.hero-subtitle {
  font-size: var(--font-size-xl);
  margin-bottom: var(--space-2xl);
  opacity: 0.9;
}

.hero-buttons {
  display: flex;
  gap: var(--space-md);
  flex-wrap: wrap;
}

.hero-image {
  display: flex;
  justify-content: center;
}

.hero-img {
  max-width: 100%;
  height: auto;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-xl);
}

/* Features Section */
.features-section {
  padding: var(--space-3xl) 0;
  background: var(--color-surface);
}

.section-title {
  text-align: center;
  font-size: var(--font-size-3xl);
  font-weight: 700;
  margin-bottom: var(--space-3xl);
  color: var(--color-text);
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-xl);
}

.feature-card {
  background: white;
  padding: var(--space-2xl);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  text-align: center;
  transition: var(--transition-normal);
  border: 1px solid var(--color-card-border);
}

.feature-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-lg);
}

.feature-icon {
  width: 60px;
  height: 60px;
  margin: 0 auto var(--space-lg);
  background: var(--gradient-primary);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: var(--font-size-2xl);
}

.feature-card h3 {
  font-size: var(--font-size-xl);
  margin-bottom: var(--space-md);
  color: var(--color-text);
}

.feature-card p {
  color: var(--color-text-secondary);
  line-height: 1.6;
}

/* Testimonials Section */
.testimonials-section {
  padding: var(--space-3xl) 0;
  background: var(--gradient-success);
}

.testimonials-section .section-title {
  color: white;
}

.testimonials-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--space-xl);
}

.testimonial-card {
  background: rgba(255, 255, 255, 0.95);
  padding: var(--space-2xl);
  border-radius: var(--radius-lg);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow-md);
}

.testimonial-content p {
  font-style: italic;
  margin-bottom: var(--space-lg);
  color: var(--color-text);
}

.testimonial-author {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.author-avatar {
  width: 50px;
  height: 50px;
  border-radius: var(--radius-full);
  background: var(--gradient-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xl);
}

.testimonial-author h4 {
  margin-bottom: var(--space-xs);
  color: var(--color-text);
}

.testimonial-author span {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

/* Button Styles */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  padding: var(--space-md) var(--space-xl);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-base);
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: var(--transition-fast);
  position: relative;
  overflow: hidden;
}

.btn-primary {
  background: var(--gradient-primary);
  color: white;
  box-shadow: var(--shadow-sm);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.btn-secondary {
  background: var(--color-secondary);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}

.btn-secondary:hover {
  background: var(--color-secondary-hover);
}

.btn-outline {
  background: transparent;
  color: var(--color-primary);
  border: 2px solid var(--color-primary);
}

.btn-outline:hover {
  background: var(--color-primary);
  color: white;
}

.btn-google {
  background: white;
  color: var(--color-text);
  border: 1px solid var(--color-border);
  width: 100%;
}

.btn-google:hover {
  background: var(--color-bg-1);
}

.btn-large {
  padding: var(--space-lg) var(--space-2xl);
  font-size: var(--font-size-lg);
}

.btn-sm {
  padding: var(--space-sm) var(--space-md);
  font-size: var(--font-size-sm);
}

.btn-full {
  width: 100%;
}

/* Form Styles */
.form-group {
  margin-bottom: var(--space-lg);
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-md);
}

.form-control {
  width: 100%;
  padding: var(--space-md);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-base);
  background: var(--color-surface);
  color: var(--color-text);
  transition: var(--transition-fast);
}

.form-control:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-focus-ring);
}

label {
  display: block;
  margin-bottom: var(--space-sm);
  font-weight: 600;
  color: var(--color-text);
}

.form-text {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-top: var(--space-xs);
}

/* Auth Section */
.auth-section {
  min-height: 100vh;
  background: var(--gradient-hero);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-xl);
}

.auth-container {
  width: 100%;
  max-width: 450px;
  margin: 0 auto;
  display: flex;
  justify-content: center;
  align-items: center;
}

.auth-card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border-radius: var(--radius-xl);
  padding: var(--space-2xl);
  padding-top: var(--space-3xl);
  padding-bottom: var(--space-3xl);
  box-shadow: var(--shadow-xl);
  border: 1px solid rgba(255, 255, 255, 0.2);
  margin: 0 auto;
}

.auth-header {
  text-align: center;
  margin-bottom: var(--space-2xl);
}

.auth-header h2 {
  font-size: var(--font-size-2xl);
  margin-bottom: var(--space-sm);
  color: var(--color-text);
}

.auth-header p {
  color: var(--color-text-secondary);
}

.auth-divider {
  text-align: center;
  margin: var(--space-xl) 0;
  position: relative;
}

.auth-divider::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 1px;
  background: var(--color-border);
}

.auth-divider span {
  background: white;
  padding: 0 var(--space-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

.auth-toggle {
  text-align: center;
  margin-top: var(--space-xl);
}

.auth-toggle a {
  color: var(--color-primary);
  text-decoration: none;
  font-weight: 600;
}

/* Dashboard Styles */
.dashboard-section {
  padding-top: 80px;
  min-height: 100vh;
  background: var(--color-background);
}

.dashboard-header {
  background: var(--gradient-primary);
  color: white;
  padding: var(--space-2xl) 0;
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-md);
}

.welcome-message h1 {
  font-size: var(--font-size-3xl);
  margin-bottom: var(--space-sm);
}

.header-actions {
  display: flex;
  gap: var(--space-md);
}

.dashboard-content {
  padding: var(--space-2xl) 0;
}

/* Stats Grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-xl);
  margin-bottom: var(--space-2xl);
}

.stat-card {
  background: white;
  padding: var(--space-xl);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  display: flex;
  align-items: center;
  gap: var(--space-lg);
  transition: var(--transition-normal);
  border: 1px solid var(--color-card-border);
}

.stat-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
}

.stat-icon {
  width: 60px;
  height: 60px;
  border-radius: var(--radius-full);
  background: var(--gradient-success);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: var(--font-size-xl);
}

.stat-info h3 {
  font-size: var(--font-size-2xl);
  font-weight: 700;
  margin-bottom: var(--space-xs);
  color: var(--color-text);
}

.stat-info p {
  color: var(--color-text-secondary);
  margin-bottom: var(--space-sm);
}

.stat-status {
  font-size: var(--font-size-sm);
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-full);
  font-weight: 600;
}

.stat-status.healthy {
  background: rgba(var(--color-teal-500-rgb), 0.1);
  color: var(--color-success);
}

.stat-progress {
  font-size: var(--font-size-sm);
  color: var(--color-primary);
  font-weight: 600;
}

/* Dashboard Grid */
.dashboard-grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: var(--space-xl);
  margin-bottom: var(--space-2xl);
}

.chart-card,
.activity-card {
  background: white;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  overflow: hidden;
  border: 1px solid var(--color-card-border);
}

.card-header {
  padding: var(--space-lg);
  border-bottom: 1px solid var(--color-card-border-inner);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.card-header h3 {
  font-size: var(--font-size-lg);
  color: var(--color-text);
}

.chart-controls {
  display: flex;
  gap: var(--space-sm);
}

.chart-btn {
  padding: var(--space-sm) var(--space-md);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: var(--transition-fast);
}

.chart-btn.active,
.chart-btn:hover {
  background: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

.chart-container {
  padding: var(--space-lg);
  height: 300px;
  position: relative;
}

/* Quick Actions */
.quick-actions {
  padding: var(--space-lg);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-md);
}

.action-btn {
  background: var(--color-bg-1);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-md);
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm);
  cursor: pointer;
  transition: var(--transition-fast);
  text-decoration: none;
  color: var(--color-text);
}

.action-btn:hover {
  background: var(--color-bg-2);
  transform: translateY(-2px);
}

.action-btn i {
  font-size: var(--font-size-lg);
  color: var(--color-primary);
}

/* Goals Section */
.goals-section {
  margin-top: var(--space-2xl);
}

.goals-section h3 {
  margin-bottom: var(--space-lg);
  color: var(--color-text);
}

.goals-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--space-lg);
}

.goal-card {
  background: white;
  padding: var(--space-lg);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--color-card-border);
}

.goal-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-md);
}

.goal-info h4 {
  color: var(--color-text);
  margin-bottom: var(--space-xs);
}

.goal-info p {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

.goal-progress {
  margin-bottom: var(--space-sm);
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: var(--color-bg-1);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: var(--gradient-success);
  border-radius: var(--radius-full);
  transition: var(--transition-normal);
}

.progress-text {
  display: flex;
  justify-content: space-between;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-top: var(--space-xs);
}

/* Section Styles */
.section {
  min-height: 100vh;
}

.section-header {
  display: flex;
  align-items: center;
  gap: var(--space-lg);
  margin-bottom: var(--space-2xl);
  padding-top: 100px;
}

.section-header h2 {
  font-size: var(--font-size-3xl);
  color: var(--color-text);
}

/* Profile Section */
.profile-content {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: var(--space-2xl);
}

.profile-card,
.bmi-card {
  background: white;
  padding: var(--space-2xl);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  border: 1px solid var(--color-card-border);
}

.profile-avatar {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-lg);
  margin-bottom: var(--space-2xl);
}

.avatar-circle {
  width: 100px;
  height: 100px;
  border-radius: var(--radius-full);
  background: var(--gradient-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: var(--font-size-3xl);
}

.bmi-display {
  text-align: center;
  margin-bottom: var(--space-xl);
}

.bmi-value {
  font-size: var(--font-size-4xl);
  font-weight: 700;
  color: var(--color-primary);
}

.bmi-unit {
  font-size: var(--font-size-lg);
  color: var(--color-text-secondary);
  margin-left: var(--space-sm);
}

.bmi-category {
  font-size: var(--font-size-lg);
  font-weight: 600;
  margin-top: var(--space-sm);
  color: var(--color-success);
}

.bmi-ranges {
  display: grid;
  gap: var(--space-md);
}

.bmi-range {
  display: flex;
  justify-content: space-between;
  padding: var(--space-md);
  border-radius: var(--radius-sm);
  border-left: 4px solid;
}

.bmi-range.underweight {
  background: rgba(52, 152, 219, 0.1);
  border-color: #3498DB;
}

.bmi-range.normal {
  background: rgba(46, 204, 113, 0.1);
  border-color: #2ECC71;
}

.bmi-range.overweight {
  background: rgba(243, 156, 18, 0.1);
  border-color: #F39C12;
}

.bmi-range.obese {
  background: rgba(231, 76, 60, 0.1);
  border-color: #E74C3C;
}

/* Activity & Goals Forms */
.activity-content,
.goals-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-2xl);
}

.activity-form-card,
.goal-form-card,
.recent-activities-card,
.active-goals-card {
  background: white;
  padding: var(--space-2xl);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  border: 1px solid var(--color-card-border);
}

.activities-list,
.goals-list {
  max-height: 400px;
  overflow-y: auto;
}

.activity-item,
.goal-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-md);
  border-bottom: 1px solid var(--color-card-border-inner);
}

.activity-item:last-child,
.goal-item:last-child {
  border-bottom: none;
}

.activity-info,
.goal-info {
  flex: 1;
}

.activity-info h4,
.goal-info h4 {
  color: var(--color-text);
  margin-bottom: var(--space-xs);
}

.activity-info p,
.goal-info p {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

.activity-actions,
.goal-actions {
  display: flex;
  gap: var(--space-sm);
}

.btn-icon {
  width: 36px;
  height: 36px;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--color-border);
  background: transparent;
  cursor: pointer;
  transition: var(--transition-fast);
  color: var(--color-text-secondary);
}

.btn-icon:hover {
  background: var(--color-bg-1);
  color: var(--color-primary);
}

/* Progress/Charts Section */
.progress-content {
  display: grid;
  gap: var(--space-2xl);
}

.charts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: var(--space-xl);
}

/* History Section */
.history-filters {
  background: white;
  padding: var(--space-xl);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  margin-bottom: var(--space-xl);
  display: flex;
  gap: var(--space-lg);
  align-items: end;
  border: 1px solid var(--color-card-border);
}

.filter-group {
  flex: 1;
}

.history-list {
  background: white;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  overflow: hidden;
  border: 1px solid var(--color-card-border);
}

.history-item {
  display: grid;
  grid-template-columns: auto 1fr auto auto;
  gap: var(--space-md);
  padding: var(--space-lg);
  border-bottom: 1px solid var(--color-card-border-inner);
  align-items: center;
}

.history-item:last-child {
  border-bottom: none;
}

.history-icon {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-full);
  background: var(--gradient-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
}

.history-info h4 {
  color: var(--color-text);
  margin-bottom: var(--space-xs);
}

.history-info p {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

.history-value {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--color-primary);
}

/* Floating Action Button */
.fab {
  position: fixed;
  bottom: var(--space-xl);
  right: var(--space-xl);
  z-index: 100;
}

.fab-button {
  width: 60px;
  height: 60px;
  border-radius: var(--radius-full);
  background: var(--gradient-primary);
  border: none;
  color: white;
  font-size: var(--font-size-xl);
  cursor: pointer;
  box-shadow: var(--shadow-lg);
  transition: var(--transition-fast);
}

.fab-button:hover {
  transform: scale(1.1);
}

.fab-menu {
  position: absolute;
  bottom: 70px;
  right: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  opacity: 0;
  visibility: hidden;
  transition: var(--transition-normal);
}

.fab-menu.active {
  opacity: 1;
  visibility: visible;
}

.fab-item {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-full);
  background: white;
  border: 1px solid var(--color-border);
  color: var(--color-primary);
  cursor: pointer;
  transition: var(--transition-fast);
  box-shadow: var(--shadow-md);
}

.fab-item:hover {
  background: var(--color-primary);
  color: white;
}

/* Bottom Navigation */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  border-top: 1px solid var(--color-border);
  display: flex;
  z-index: 100;
}

.bottom-nav-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-md);
  background: none;
  border: none;
  cursor: pointer;
  transition: var(--transition-fast);
  color: var(--color-text-secondary);
}

.bottom-nav-item:hover,
.bottom-nav-item.active {
  color: var(--color-primary);
  background: var(--color-bg-1);
}

.bottom-nav-item span {
  font-size: var(--font-size-xs);
}

/* Modal Styles */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(5px);
}

.modal-content {
  background: white;
  border-radius: var(--radius-lg);
  max-width: 500px;
  width: 90%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: var(--shadow-xl);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-lg);
  border-bottom: 1px solid var(--color-border);
}

.modal-header h3 {
  color: var(--color-text);
}

.modal-close {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-sm);
  background: none;
  border: 1px solid var(--color-border);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition-fast);
}

.modal-close:hover {
  background: var(--color-bg-1);
}

.modal-form {
  padding: var(--space-lg);
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--space-md);
  margin-top: var(--space-lg);
}

/* Toast Notifications */
.toast-container {
  position: fixed;
  top: 100px;
  right: var(--space-xl);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.toast {
  background: white;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  padding: var(--space-lg);
  border-left: 4px solid;
  max-width: 350px;
  display: flex;
  align-items: center;
  gap: var(--space-md);
  animation: slideIn 0.3s ease;
}

.toast.success {
  border-color: var(--color-success);
}

.toast.error {
  border-color: var(--color-error);
}

.toast.warning {
  border-color: var(--color-warning);
}

.toast.info {
  border-color: var(--color-info);
}

.toast-icon {
  font-size: var(--font-size-lg);
}

.toast.success .toast-icon {
  color: var(--color-success);
}

.toast.error .toast-icon {
  color: var(--color-error);
}

.toast.warning .toast-icon {
  color: var(--color-warning);
}

.toast.info .toast-icon {
  color: var(--color-info);
}

.toast-message {
  flex: 1;
}

.toast-close {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--color-text-secondary);
  font-size: var(--font-size-lg);
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Responsive Design */
@media (max-width: 1024px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
  }
  
  .profile-content {
    grid-template-columns: 1fr;
  }
  
  .activity-content,
  .goals-content {
    grid-template-columns: 1fr;
  }
  
  .charts-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .hero-content {
    grid-template-columns: 1fr;
    text-align: center;
  }
  
  .header-content {
    flex-direction: column;
    text-align: center;
  }
  
  .stats-grid {
    grid-template-columns: 1fr;
  }
  
  .form-row {
    grid-template-columns: 1fr;
  }
  
  .quick-actions {
    grid-template-columns: 1fr;
  }
  
  .history-filters {
    flex-direction: column;
  }
  
  .nav-menu {
    display: none;
  }
  
  .nav-toggle {
    display: flex;
  }
  
  .bottom-nav {
    display: flex;
  }
  
  .dashboard-section,
  .profile-section,
  .activity-section,
  .goals-section,
  .progress-section,
  .history-section {
    padding-bottom: 80px;
  }
  
  .fab {
    bottom: 100px;
  }
}

@media (max-width: 480px) {
  .container {
    padding: 0 var(--space-sm);
  }
  
  .hero-title {
    font-size: var(--font-size-3xl);
  }
  
  .auth-card {
    padding: var(--space-lg);
  }
  
  .stat-card {
    padding: var(--space-lg);
  }
  
  .history-item {
    grid-template-columns: auto 1fr;
    gap: var(--space-sm);
  }
  
  .history-item .history-value,
  .history-item .btn-icon {
    display: none;
  }
}

/* Animation Classes */
.fade-in {
  animation: fadeIn 0.5s ease-in-out;
}

.slide-up {
  animation: slideUp 0.3s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Loading States */
.loading {
  position: relative;
  opacity: 0.6;
  pointer-events: none;
}

.loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0 0 -10px;
  border: 2px solid var(--color-border);
  border-top: 2px solid var(--color-primary);
  border-radius: var(--radius-full);
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Utility Classes */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }
.d-none { display: none !important; }
.d-block { display: block !important; }
.d-flex { display: flex !important; }
.mb-0 { margin-bottom: 0 !important; }
.mt-0 { margin-top: 0 !important; }
.p-0 { padding: 0 !important; }
.w-100 { width: 100% !important; }
.h-100 { height: 100% !important; }
</style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-heartbeat"></i>
                <span>WealthTracker</span>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="#home" class="nav-link" onclick="showSection('home')">Home</a>
                <a href="#features" class="nav-link">Features</a>
                <a href="#testimonials" class="nav-link" onclick="event.preventDefault(); if(currentSection === 'home') { document.getElementById('testimonials').scrollIntoView({behavior: 'smooth'}); } else { showSection('home'); setTimeout(() => { document.getElementById('testimonials').scrollIntoView({behavior: 'smooth'}); }, 100); }">About</a>
                <button class="btn btn-primary" onclick="showSection('auth')">Get Started</button>
            </div>
            <div class="nav-toggle" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Landing Page -->
    <section id="home" class="section hero-section">
        <div class="hero-background">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">Transform Your Health Journey</h1>
                    <p class="hero-subtitle">Track, analyze, and achieve your fitness goals with our cloud-based health tracker. Monitor your progress anywhere, anytime.</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary btn-large" onclick="showSection('auth')">
                            <i class="fas fa-rocket"></i> Get Started
                        </button>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="https://user-gen-media-assets.s3.amazonaws.com/seedream_images/8c23ee8c-ebe6-4122-a3bf-710728090308.png" alt="Health Tracker App Interface" class="hero-img">
                </div>
            </div>
        </div>
        
        <!-- Features Section -->
        <div class="features-section" id="features">
            <div class="container">
                <h2 class="section-title">Powerful Features for Your Health Journey</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Activity Tracking</h3>
                        <p>Monitor steps, workouts, water intake, and calories with detailed analytics.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3>BMI Calculator</h3>
                        <p>Track your BMI changes over time with personalized health insights.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <h3>Goal Setting</h3>
                        <p>Set daily and weekly goals with visual progress tracking and achievements.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-cloud"></i>
                        </div>
                        <h3>Cloud Storage</h3>
                        <p>Access your data anywhere with secure cloud synchronization.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Testimonials -->
        <div id="testimonials" class="testimonials-section">
            <div class="container">
                <h2 class="section-title">What Our Users Say</h2>
                <div class="testimonials-grid">
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <p>"HealthTracker has completely transformed how I approach fitness. The visualizations keep me motivated!"</p>
                            <div class="testimonial-author">
                                <div class="author-avatar"></div>
                                <div>
                                    <h4>Abi</h4>
                                    <span>Software Engineer</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <p>"The goal tracking feature helped me achieve my fitness targets faster than ever before."</p>
                            <div class="testimonial-author">
                                <div class="author-avatar"></div>
                                <div>
                                    <h4>Ragul</h4>
                                    <span>Personal Trainer</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <p>"Clean interface and powerful analytics. Perfect for tracking my health journey."</p>
                            <div class="testimonial-author">
                                <div class="author-avatar"></div>
                                <div>
                                    <h4>Anu</h4>
                                    <span>Nutritionist</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Authentication Section -->
    <section id="auth" class="section auth-section" style="display: none;">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-header">
                    <h2 id="auth-title">Welcome Back</h2>
                    <p id="auth-subtitle">Sign in to continue your health journey</p>
                </div>
                
                <!-- Login Form -->
                <form id="login-form" class="auth-form">
                    <div class="form-group">
                        <label for="login-email">Email Address</label>
                        <input type="email" id="login-email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" class="form-control" placeholder="Enter your password" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                </form>

                <!-- Signup Form -->
                <form id="signup-form" class="auth-form" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="signup-name">Full Name</label>
                            <input type="text" id="signup-name" class="form-control" placeholder="Enter your name" required>
                        </div>
                        <div class="form-group">
                            <label for="signup-age">Age</label>
                            <input type="number" id="signup-age" class="form-control" placeholder="Age" min="13" max="120" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="signup-email">Email Address</label>
                        <input type="email" id="signup-email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-password">Password</label>
                        <input type="password" id="signup-password" class="form-control" placeholder="Create a password" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="signup-height">Height (cm)</label>
                            <input type="number" id="signup-height" class="form-control" placeholder="Height" min="100" max="250" required>
                        </div>
                        <div class="form-group">
                            <label for="signup-weight">Weight (kg)</label>
                            <input type="number" id="signup-weight" class="form-control" placeholder="Weight" min="30" max="300" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="signup-gender">Gender</label>
                        <select id="signup-gender" class="form-control" required>
                            <option value="">Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">
                        <i class="fas fa-user-plus"></i> Create Account
                    </button>
                </form>

                <!-- Social Login -->
                <div class="auth-divider">
                    <span>or continue with</span>
                </div>
                <button class="btn btn-google" onclick="handleGoogleLogin()">
                    <i class="fab fa-google"></i> Google
                </button>

                <!-- Auth Toggle -->
                <div class="auth-toggle">
                    <p id="auth-toggle-text">Don't have an account? <a href="#" id="auth-toggle-link" onclick="toggleAuthMode()">Sign up</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="section dashboard-section" style="display: none;">
        <div class="dashboard-header">
            <div class="container">
                <div class="header-content">
                    <div class="welcome-message">
                        <h1>Welcome back, <span id="user-name">Alex</span>! </h1>
                        <p>Here's your health overview for today</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="showSection('profile')">
                            <i class="fas fa-user"></i> Profile
                        </button>
                        <button class="btn btn-outline" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-content">
            <div class="container">
                <!-- Quick Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="user-bmi">22.9</h3>
                            <p>CMI</p>
                            <span class="stat-status healthy" id="bmi-status">Healthy</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-walking"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="today-steps">8,500</h3>
                            <p>Steps Today</p>
                            <span class="stat-progress">85% of goal</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tint"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="today-water">6</h3>
                            <p>Glasses of Water</p>
                            <span class="stat-progress">75% of goal</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="today-calories">2,420</h3>
                            <p>Calories Burned</p>
                            <span class="stat-progress">96% of goal</span>
                        </div>
                    </div>
                </div>

                <!-- Charts and Activity -->
                <div class="dashboard-grid">
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>Weekly Activity</h3>
                            <div class="chart-controls">
                                <button class="chart-btn active" data-chart="steps">Steps</button>
                                <button class="chart-btn" data-chart="calories">Calories</button>
                                <button class="chart-btn" data-chart="water">Water</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="activity-chart"></canvas>
                        </div>
                    </div>

                    <div class="activity-card">
                        <div class="card-header">
                            <h3>Quick Actions</h3>
                        </div>
                        <div class="quick-actions">
                            <button class="action-btn" onclick="showLogActivity('steps')">
                                <i class="fas fa-walking"></i>
                                <span>Log Steps</span>
                            </button>
                            <button class="action-btn" onclick="showLogActivity('water')">
                                <i class="fas fa-tint"></i>
                                <span>Log Water</span>
                            </button>
                            <button class="action-btn" onclick="showLogActivity('workout')">
                                <i class="fas fa-dumbbell"></i>
                                <span>Log Workout</span>
                            </button>
                            <button class="action-btn" onclick="showSection('goals')">
                                <i class="fas fa-bullseye"></i>
                                <span>Set Goal</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Goals Progress -->
                <div class="goals-section">
                    <h3>Today's Goals</h3>
                    <div class="goals-grid" id="dashboard-goals">
                        <!-- Goals will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Profile Section -->
    <section id="profile" class="section profile-section" style="display: none;">
        <div class="container">
            <div class="section-header">
                <button class="btn btn-secondary" onclick="showSection('dashboard')">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
                <h2>Profile Settings</h2>
            </div>

            <div class="profile-content">
                <div class="profile-card">
                    <div class="profile-avatar">
                        <div class="avatar-circle">
                            <i class="fas fa-user"></i>
                        </div>
                        <button class="btn btn-sm btn-primary">Change Photo</button>
                    </div>
                    
                    <form id="profile-form" class="profile-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profile-name">Full Name</label>
                                <input type="text" id="profile-name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="profile-age">Age</label>
                                <input type="number" id="profile-age" class="form-control" min="13" max="120" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="profile-email">Email Address</label>
                            <input type="email" id="profile-email" class="form-control" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profile-height">Height (cm)</label>
                                <input type="number" id="profile-height" class="form-control" min="100" max="250" required>
                            </div>
                            <div class="form-group">
                                <label for="profile-weight">Weight (kg)</label>
                                <input type="number" id="profile-weight" class="form-control" min="30" max="300" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="profile-gender">Gender</label>
                            <select id="profile-gender" class="form-control" required>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                    </form>
                </div>

                <div class="bmi-card">
                    <h3>BMI Calculator</h3>
                    <div class="bmi-display">
                        <div class="bmi-value">
                            <span id="profile-bmi">22.9</span>
                            <span class="bmi-unit">kg/m</span>
                        </div>
                        <div class="bmi-category" id="profile-bmi-category">Normal Weight</div>
                    </div>
                    <div class="bmi-chart">
                        <div class="bmi-ranges">
                            <div class="bmi-range underweight">
                                <span class="range-label">Underweight</span>
                                <span class="range-value">&lt; 18.5</span>
                            </div>
                            <div class="bmi-range normal">
                                <span class="range-label">Normal</span>
                                <span class="range-value">18.5 - 24.9</span>
                            </div>
                            <div class="bmi-range overweight">
                                <span class="range-label">Overweight</span>
                                <span class="range-value">25.0 - 29.9</span>
                            </div>
                            <div class="bmi-range obese">
                                <span class="range-label">Obese</span>
                                <span class="range-value">&gt; 30.0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Activity Tracker Section -->
    <section id="activity" class="section activity-section" style="display: none;">
        <div class="container">
            <div class="section-header">
                <button class="btn btn-secondary" onclick="showSection('dashboard')">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
                <h2>Activity Tracker</h2>
            </div>

            <div class="activity-content">
                <div class="activity-form-card">
                    <h3>Log New Activity</h3>
                    <form id="activity-form" class="activity-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="activity-type">Activity Type</label>
                                <select id="activity-type" class="form-control" required>
                                    <option value="">Select Activity</option>
                                    <option value="water">Water Intake</option>
                                    <option value="workout">Workout</option>
                                    <option value="calories">Calories</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="activity-date">Date</label>
                                <input type="date" id="activity-date" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="activity-value">Value</label>
                                <input type="number" id="activity-value" class="form-control" placeholder="Enter value" required>
                            </div>
                            <div class="form-group">
                                <label for="activity-category">Category (for workouts)</label>
                                <select id="activity-category" class="form-control">
                                    <option value="">Select Category</option>
                                    <option value="cardio">Cardio </option>
                                    <option value="strength">Strength </option>
                                    <option value="yoga">Yoga </option>
                                    <option value="swimming">Swimming </option>
                                    <option value="cycling">Cycling </option>
                                </select>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Log Activity
                        </button>
                    </form>
                </div>

                <div class="recent-activities-card">
                    <h3>Recent Activities</h3>
                    <div id="recent-activities" class="activities-list">
                        <!-- Activities will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Goals Section -->
    <section id="goals" class="section goals-section" style="display: none;">
        <div class="container">
            <div class="section-header">
                <button class="btn btn-secondary" onclick="showSection('dashboard')">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
                <h2>Goals &amp; Achievements</h2>
            </div>

            <div class="goals-content">
                <div class="goal-form-card">
                    <h3>Create New Goal</h3>
                    <form id="goal-form" class="goal-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="goal-type">Goal Type</label>
                                <select id="goal-type" class="form-control" required>
                                    <option value="">Select Goal Type</option>
                                    <option value="weekly_workouts">Weekly Workouts</option>
                                    <option value="daily_water">Daily Water Intake</option>
                                    <option value="weight_loss">Weight Target</option>
                                    <option value="daily_calories">Daily Calories</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="goal-target">Target Value</label>
                                <input type="number" id="goal-target" class="form-control" placeholder="Enter target" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="goal-period">Period</label>
                            <select id="goal-period" class="form-control" required>
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-bullseye"></i> Create Goal
                        </button>
                    </form>
                </div>

                <div class="active-goals-card">
                    <h3>Active Goals</h3>
                    <div id="active-goals" class="goals-list">
                        <!-- Goals will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Progress Section -->
    <section id="progress" class="section progress-section" style="display: none;">
        <div class="container">
            <div class="section-header">
                <button class="btn btn-secondary" onclick="showSection('dashboard')">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
                <h2>Progress Analytics</h2>
            </div>

            <div class="progress-content">
                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>Weekly Steps Trend</h3>
                        <div class="chart-container">
                            <canvas id="steps-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3>Monthly Calories Burned</h3>
                        <div class="chart-container">
                            <canvas id="calories-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3>Goal Completion Rate</h3>
                        <div class="chart-container">
                            <canvas id="goals-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- History Section -->
    <section id="history" class="section history-section" style="display: none;">
        <div class="container">
            <div class="section-header">
                <button class="btn btn-secondary" onclick="showSection('dashboard')">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
                <h2>Activity History</h2>
            </div>

            <div class="history-content">
                <div class="history-filters">
                    <div class="filter-group">
                        <label for="history-filter-type">Activity Type</label>
                        <select id="history-filter-type" class="form-control">
                            <option value="all">All Activities</option>
                            <option value="steps">Steps</option>
                            <option value="water">Water</option>
                            <option value="workout">Workouts</option>
                            <option value="calories">Calories</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="history-filter-date">Date Range</label>
                        <select id="history-filter-date" class="form-control">
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="3months">Last 3 Months</option>
                            <option value="all">All Time</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="applyHistoryFilters()">
                        <i class="fas fa-filter"></i> Apply Filters
                    </button>
                </div>

                <div id="history-list" class="history-list">
                    <!-- History will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Floating Action Button -->
    <div class="fab" id="fab" style="display: none;">
        <button class="fab-button" onclick="toggleFabMenu()">
            <i class="fas fa-plus"></i>
        </button>
        <div class="fab-menu" id="fab-menu">
            <button class="fab-item" onclick="showLogActivity('steps')">
                <i class="fas fa-walking"></i>
            </button>
            <button class="fab-item" onclick="showLogActivity('water')">
                <i class="fas fa-tint"></i>
            </button>
            <button class="fab-item" onclick="showLogActivity('workout')">
                <i class="fas fa-dumbbell"></i>
            </button>
            <button class="fab-item" onclick="showSection('goals')">
                <i class="fas fa-bullseye"></i>
            </button>
        </div>
    </div>

    <!-- Quick Log Modal -->
    <div id="quick-log-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Log Activity</h3>
                <button class="modal-close" onclick="closeModal('quick-log-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="quick-log-form" class="modal-form">
                <div class="form-group">
                    <label for="quick-value">Value</label>
                    <input type="number" id="quick-value" class="form-control" required>
                    <small id="quick-unit" class="form-text"></small>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('quick-log-modal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Log Activity</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav" id="bottom-nav" style="display: none;">
        <button class="bottom-nav-item" onclick="showSection('dashboard')">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
        </button>
        <button class="bottom-nav-item" onclick="showSection('activity')">
            <i class="fas fa-chart-line"></i>
            <span>Activity</span>
        </button>
        <button class="bottom-nav-item" onclick="showSection('goals')">
            <i class="fas fa-bullseye"></i>
            <span>Goals</span>
        </button>
        <button class="bottom-nav-item" onclick="showSection('progress')">
            <i class="fas fa-analytics"></i>
            <span>Progress</span>
        </button>
        <button class="bottom-nav-item" onclick="showSection('history')">
            <i class="fas fa-history"></i>
            <span>History</span>
        </button>
    </nav>

    <script>
// Global State Management
let currentUser = null;
let currentSection = 'home';
let activityChart = null;
let stepsChart = null;
let caloriesChart = null;
let goalsChart = null;
let authMode = 'login'; // 'login' or 'signup'

// Sample Data
const sampleUsers = [
    {
        id: 1,
        name: "Alex Johnson",
        email: "alex@example.com",
        age: 28,
        height: 175,
        weight: 70,
        gender: "male",
        joinDate: "2024-01-15"
    }
];

const sampleActivities = [
    {
        id: 1,
        userId: 1,
        type: "steps",
        value: 8500,
        date: "2024-10-14",
        category: "walking"
    },
    {
        id: 2,
        userId: 1,
        type: "water",
        value: 6,
        date: "2024-10-14",
        unit: "glasses"
    },
    {
        id: 3,
        userId: 1,
        type: "workout",
        value: 45,
        date: "2024-10-13",
        category: "cardio",
        unit: "minutes"
    },
    {
        id: 4,
        userId: 1,
        type: "calories",
        value: 2420,
        date: "2024-10-14",
        category: "burned"
    }
];

const sampleGoals = [
    {
        id: 1,
        userId: 1,
        type: "daily_steps",
        target: 10000,
        current: 8500,
        period: "daily",
        status: "active"
    },
    {
        id: 2,
        userId: 1,
        type: "weekly_workouts",
        target: 5,
        current: 3,
        period: "weekly",
        status: "active"
    },
    {
        id: 3,
        userId: 1,
        type: "daily_water",
        target: 8,
        current: 6,
        period: "daily",
        status: "active"
    }
];

const chartData = {
    weekly_steps: [
        { day: "Mon", steps: 7500 },
        { day: "Tue", steps: 9200 },
        { day: "Wed", steps: 8800 },
        { day: "Thu", steps: 10500 },
        { day: "Fri", steps: 8500 },
        { day: "Sat", steps: 12000 },
        { day: "Sun", steps: 6800 }
    ],
    monthly_calories: [
        { month: "Aug", calories: 2100 },
        { month: "Sep", calories: 2350 },
        { month: "Oct", calories: 2580 }
    ],
    weekly_water: [
        { day: "Mon", water: 6 },
        { day: "Tue", water: 7 },
        { day: "Wed", water: 5 },
        { day: "Thu", water: 8 },
        { day: "Fri", water: 6 },
        { day: "Sat", water: 9 },
        { day: "Sun", water: 7 }
    ]
};

const activityCategories = [
    { name: "Cardio", icon: "", color: "#FF6B6B" },
    { name: "Strength", icon: "", color: "#4ECDC4" },
    { name: "Yoga", icon: "", color: "#45B7D1" },
    { name: "Swimming", icon: "", color: "#96CEB4" }
];

// Initialize App
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
    setupEventListeners();
    
    // Set current date for activity form
    const activityDateInput = document.getElementById('activity-date');
    if (activityDateInput) {
        activityDateInput.value = new Date().toISOString().split('T')[0];
    }
});

function initializeApp() {
    // Check if user is logged in (simulation)
    const savedUser = sampleUsers[0]; // Simulate saved user
    if (savedUser) {
        currentUser = savedUser;
    }
    
    showSection('home');
}

function setupEventListeners() {
    // Auth forms
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');
    const profileForm = document.getElementById('profile-form');
    const activityForm = document.getElementById('activity-form');
    const goalForm = document.getElementById('goal-form');
    const quickLogForm = document.getElementById('quick-log-form');
    
    if (loginForm) {
        loginForm.addEventListener('submit', handleLogin);
    }
    if (signupForm) {
        signupForm.addEventListener('submit', handleSignup);
    }
    if (profileForm) {
        profileForm.addEventListener('submit', handleProfileUpdate);
    }
    if (activityForm) {
        activityForm.addEventListener('submit', handleActivityLog);
    }
    if (goalForm) {
        goalForm.addEventListener('submit', handleGoalCreation);
    }
    if (quickLogForm) {
        quickLogForm.addEventListener('submit', handleQuickLog);
    }
    
    // Chart controls
    const chartBtns = document.querySelectorAll('.chart-btn');
    chartBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
            chartBtns.forEach(b => b.classList.remove('active'));
            e.target.classList.add('active');
            updateActivityChart(e.target.dataset.chart);
        });
    });
    
    // Profile form real-time BMI calculation
    const heightInput = document.getElementById('profile-height');
    const weightInput = document.getElementById('profile-weight');
    if (heightInput && weightInput) {
        [heightInput, weightInput].forEach(input => {
            input.addEventListener('input', updateBMIDisplay);
        });
    }
}

// Section Navigation
function showSection(sectionId) {
    // Hide all sections
    const sections = document.querySelectorAll('.section');
    sections.forEach(section => {
        section.style.display = 'none';
    });
    
    // Show target section
    const targetSection = document.getElementById(sectionId);
    if (targetSection) {
        targetSection.style.display = 'block';
        targetSection.classList.add('fade-in');
        currentSection = sectionId;
    }
    
    // Update navigation states
    updateNavigation(sectionId);
    
    // Initialize section-specific content
    initializeSection(sectionId);
}

function updateNavigation(sectionId) {
    // Show/hide navigation elements based on section
    const navbar = document.getElementById('navbar');
    const bottomNav = document.getElementById('bottom-nav');
    const fab = document.getElementById('fab');
    
    if (sectionId === 'home' || sectionId === 'auth') {
        if (navbar) navbar.style.display = 'block';
        if (bottomNav) bottomNav.style.display = 'none';
        if (fab) fab.style.display = 'none';
    } else {
        if (navbar) navbar.style.display = 'none';
        if (bottomNav) bottomNav.style.display = 'flex';
        if (fab) fab.style.display = 'block';
    }
    
    // Update bottom nav active state
    const bottomNavItems = document.querySelectorAll('.bottom-nav-item');
    bottomNavItems.forEach(item => {
        item.classList.remove('active');
        if (item.getAttribute('onclick').includes(sectionId)) {
            item.classList.add('active');
        }
    });
}

function initializeSection(sectionId) {
    switch(sectionId) {
        case 'dashboard':
            updateDashboard();
            break;
        case 'profile':
            updateProfile();
            break;
        case 'activity':
            updateActivitySection();
            break;
        case 'goals':
            updateGoalsSection();
            break;
        case 'progress':
            updateProgressSection();
            break;
        case 'history':
            updateHistorySection();
            break;
    }
}

// Authentication
function toggleAuthMode() {
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');
    const authTitle = document.getElementById('auth-title');
    const authSubtitle = document.getElementById('auth-subtitle');
    const authToggleText = document.getElementById('auth-toggle-text');
    const authToggleLink = document.getElementById('auth-toggle-link');
    
    if (authMode === 'login') {
        // Switch to signup
        authMode = 'signup';
        loginForm.style.display = 'none';
        signupForm.style.display = 'block';
        authTitle.textContent = 'Create Account';
        authSubtitle.textContent = 'Join us to start your health journey';
        authToggleText.innerHTML = 'Already have an account? <a href="#" id="auth-toggle-link" onclick="toggleAuthMode()">Sign in</a>';
    } else {
        // Switch to login
        authMode = 'login';
        loginForm.style.display = 'block';
        signupForm.style.display = 'none';
        authTitle.textContent = 'Welcome Back';
        authSubtitle.textContent = 'Sign in to continue your health journey';
        authToggleText.innerHTML = 'Don\'t have an account? <a href="#" id="auth-toggle-link" onclick="toggleAuthMode()">Sign up</a>';
    }
}

function handleLogin(e) {
    e.preventDefault();
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;
    
    // Simulate login validation
    if (email && password) {
        currentUser = sampleUsers.find(user => user.email === email) || sampleUsers[0];
        showToast('Login successful! Welcome back.', 'success');
        setTimeout(() => {
            showSection('dashboard');
        }, 1000);
    } else {
        showToast('Please enter valid credentials.', 'error');
    }
}

function handleSignup(e) {
    e.preventDefault();
    const formData = new FormData(e.target);
    const name = document.getElementById('signup-name').value;
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    const age = parseInt(document.getElementById('signup-age').value);
    const height = parseInt(document.getElementById('signup-height').value);
    const weight = parseInt(document.getElementById('signup-weight').value);
    const gender = document.getElementById('signup-gender').value;
    
    if (name && email && password && age && height && weight && gender) {
        // Create new user
        currentUser = {
            id: Date.now(),
            name,
            email,
            age,
            height,
            weight,
            gender,
            joinDate: new Date().toISOString().split('T')[0]
        };
        
        showToast('Account created successfully! Welcome to HealthTracker.', 'success');
        setTimeout(() => {
            showSection('dashboard');
        }, 1000);
    } else {
        showToast('Please fill in all required fields.', 'error');
    }
}

function handleGoogleLogin() {
    showToast('Google Sign-in is not available in demo mode.', 'info');
}

function showDemoLogin() {
    document.getElementById('login-email').value = 'alex@example.com';
    document.getElementById('login-password').value = 'password123';
    showSection('auth');
    showToast('Demo credentials loaded. Click Sign In to continue.', 'info');
}

function logout() {
    currentUser = null;
    showToast('You have been logged out successfully.', 'info');
    setTimeout(() => {
        showSection('home');
    }, 1000);
}

// Dashboard Functions
function updateDashboard() {
    if (!currentUser) return;
    
    // Update user name
    const userNameElement = document.getElementById('user-name');
    if (userNameElement) {
        userNameElement.textContent = currentUser.name.split(' ')[0];
    }
    
    // Update stats
    updateDashboardStats();
    
    // Update charts
    setTimeout(() => {
        initializeActivityChart();
    }, 100);
    
    // Update goals
    updateDashboardGoals();
}

function updateDashboardStats() {
    if (!currentUser) return;
    
    // Calculate BMI
    const bmi = calculateBMI(currentUser.height, currentUser.weight);
    const bmiElement = document.getElementById('user-bmi');
    const bmiStatusElement = document.getElementById('bmi-status');
    
    if (bmiElement && bmiStatusElement) {
        bmiElement.textContent = bmi.toFixed(1);
        const status = getBMICategory(bmi);
        bmiStatusElement.textContent = status;
        bmiStatusElement.className = `stat-status ${status.toLowerCase().replace(' ', '-')}`;
    }
    
    // Update today's activities
    const todayActivities = getTodayActivities();
    const stepsElement = document.getElementById('today-steps');
    const waterElement = document.getElementById('today-water');
    const caloriesElement = document.getElementById('today-calories');
    
    if (stepsElement) {
        const steps = todayActivities.find(a => a.type === 'steps');
        stepsElement.textContent = steps ? steps.value.toLocaleString() : '0';
    }
    
    if (waterElement) {
        const water = todayActivities.find(a => a.type === 'water');
        waterElement.textContent = water ? water.value : '0';
    }
    
    if (caloriesElement) {
        const calories = todayActivities.find(a => a.type === 'calories');
        caloriesElement.textContent = calories ? calories.value.toLocaleString() : '0';
    }
}

function updateDashboardGoals() {
    const goalsContainer = document.getElementById('dashboard-goals');
    if (!goalsContainer) return;
    
    goalsContainer.innerHTML = '';
    
    sampleGoals.forEach(goal => {
        const progressPercent = Math.min((goal.current / goal.target) * 100, 100);
        const goalCard = document.createElement('div');
        goalCard.className = 'goal-card';
        goalCard.innerHTML = `
            <div class="goal-header">
                <div class="goal-info">
                    <h4>${formatGoalType(goal.type)}</h4>
                    <p>${goal.current} / ${goal.target} ${getGoalUnit(goal.type)}</p>
                </div>
                <span class="goal-status">${Math.round(progressPercent)}%</span>
            </div>
            <div class="goal-progress">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${progressPercent}%"></div>
                </div>
            </div>
        `;
        goalsContainer.appendChild(goalCard);
    });
}

// Charts
function initializeActivityChart() {
    const chartCanvas = document.getElementById('activity-chart');
    if (!chartCanvas) return;
    
    if (activityChart) {
        activityChart.destroy();
    }
    
    const ctx = chartCanvas.getContext('2d');
    
    activityChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: chartData.weekly_steps.map(d => d.day),
            datasets: [{
                label: 'Steps',
                data: chartData.weekly_steps.map(d => d.steps),
                borderColor: '#667eea',
                backgroundColor: 'rgba(102, 126, 234, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)'
                    }
                },
                x: {
                    grid: {
                        display: false
                    }
                }
            }
        }
    });
}

function updateActivityChart(type) {
    if (!activityChart) return;
    
    let data, label;
    switch(type) {
        case 'steps':
            data = chartData.weekly_steps.map(d => d.steps);
            label = 'Steps';
            break;
        case 'calories':
            data = [2100, 2350, 2200, 2580, 2420, 2680, 2150];
            label = 'Calories';
            break;
        case 'water':
            data = chartData.weekly_water.map(d => d.water);
            label = 'Glasses of Water';
            break;
        default:
            return;
    }
    
    activityChart.data.datasets[0].data = data;
    activityChart.data.datasets[0].label = label;
    activityChart.update();
}

function initializeProgressCharts() {
    // Steps Chart
    const stepsCanvas = document.getElementById('steps-chart');
    if (stepsCanvas && !stepsChart) {
        const ctx = stepsCanvas.getContext('2d');
        stepsChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: chartData.weekly_steps.map(d => d.day),
                datasets: [{
                    label: 'Daily Steps',
                    data: chartData.weekly_steps.map(d => d.steps),
                    borderColor: '#4facfe',
                    backgroundColor: 'rgba(79, 172, 254, 0.1)',
                    borderWidth: 3,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });
    }
    
    // Calories Chart
    const caloriesCanvas = document.getElementById('calories-chart');
    if (caloriesCanvas && !caloriesChart) {
        const ctx = caloriesCanvas.getContext('2d');
        caloriesChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: chartData.monthly_calories.map(d => d.month),
                datasets: [{
                    label: 'Monthly Calories',
                    data: chartData.monthly_calories.map(d => d.calories),
                    backgroundColor: ['#1FB8CD', '#FFC185', '#B4413C']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });
    }
    
    // Goals Chart
    const goalsCanvas = document.getElementById('goals-chart');
    if (goalsCanvas && !goalsChart) {
        const ctx = goalsCanvas.getContext('2d');
        goalsChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Completed', 'In Progress', 'Not Started'],
                datasets: [{
                    data: [65, 25, 10],
                    backgroundColor: ['#43e97b', '#f093fb', '#ECEBD5']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });
    }
}

// Profile Functions
function updateProfile() {
    if (!currentUser) return;
    
    // Populate form fields
    const fields = ['name', 'age', 'email', 'height', 'weight', 'gender'];
    fields.forEach(field => {
        const element = document.getElementById(`profile-${field}`);
        if (element && currentUser[field]) {
            element.value = currentUser[field];
        }
    });
    
    // Update BMI display
    updateBMIDisplay();
}

function updateBMIDisplay() {
    const heightElement = document.getElementById('profile-height');
    const weightElement = document.getElementById('profile-weight');
    const bmiElement = document.getElementById('profile-bmi');
    const categoryElement = document.getElementById('profile-bmi-category');
    
    if (heightElement && weightElement && bmiElement && categoryElement) {
        const height = parseInt(heightElement.value);
        const weight = parseInt(weightElement.value);
        
        if (height && weight) {
            const bmi = calculateBMI(height, weight);
            const category = getBMICategory(bmi);
            
            bmiElement.textContent = bmi.toFixed(1);
            categoryElement.textContent = category;
            
            // Update category styling
            categoryElement.className = 'bmi-category';
            if (category === 'Normal') categoryElement.style.color = '#2ECC71';
            else if (category === 'Overweight') categoryElement.style.color = '#F39C12';
            else if (category === 'Underweight') categoryElement.style.color = '#3498DB';
            else categoryElement.style.color = '#E74C3C';
        }
    }
}

function handleProfileUpdate(e) {
    e.preventDefault();
    
    const name = document.getElementById('profile-name').value;
    const age = parseInt(document.getElementById('profile-age').value);
    const email = document.getElementById('profile-email').value;
    const height = parseInt(document.getElementById('profile-height').value);
    const weight = parseInt(document.getElementById('profile-weight').value);
    const gender = document.getElementById('profile-gender').value;
    
    if (currentUser) {
        currentUser.name = name;
        currentUser.age = age;
        currentUser.email = email;
        currentUser.height = height;
        currentUser.weight = weight;
        currentUser.gender = gender;
        
        showToast('Profile updated successfully!', 'success');
        updateDashboardStats();
    }
}

// Activity Functions
function updateActivitySection() {
    updateRecentActivities();
}

function updateRecentActivities() {
    const activitiesContainer = document.getElementById('recent-activities');
    if (!activitiesContainer) return;
    
    activitiesContainer.innerHTML = '';
    
    const recentActivities = sampleActivities.slice(-5).reverse();
    
    recentActivities.forEach(activity => {
        const activityItem = document.createElement('div');
        activityItem.className = 'activity-item';
        activityItem.innerHTML = `
            <div class="activity-info">
                <h4>${formatActivityType(activity.type)}</h4>
                <p>${formatActivityValue(activity)}  ${formatDate(activity.date)}</p>
            </div>
            <div class="activity-actions">
                <button class="btn-icon" onclick="editActivity(${activity.id})">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="btn-icon" onclick="deleteActivity(${activity.id})">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        `;
        activitiesContainer.appendChild(activityItem);
    });
}

function handleActivityLog(e) {
    e.preventDefault();
    
    const type = document.getElementById('activity-type').value;
    const date = document.getElementById('activity-date').value;
    const value = parseInt(document.getElementById('activity-value').value);
    const category = document.getElementById('activity-category').value;
    
    if (type && date && value) {
        const newActivity = {
            id: Date.now(),
            userId: currentUser?.id || 1,
            type,
            value,
            date,
            category: category || undefined
        };
        
        sampleActivities.push(newActivity);
        
        showToast('Activity logged successfully!', 'success');
        updateRecentActivities();
        updateDashboardStats();
        
        // Reset form
        e.target.reset();
        document.getElementById('activity-date').value = new Date().toISOString().split('T')[0];
    } else {
        showToast('Please fill in all required fields.', 'error');
    }
}

// Goals Functions
function updateGoalsSection() {
    updateActiveGoals();
}

function updateActiveGoals() {
    const goalsContainer = document.getElementById('active-goals');
    if (!goalsContainer) return;
    
    goalsContainer.innerHTML = '';
    
    sampleGoals.forEach(goal => {
        const progressPercent = Math.min((goal.current / goal.target) * 100, 100);
        const goalItem = document.createElement('div');
        goalItem.className = 'goal-item';
        goalItem.innerHTML = `
            <div class="goal-info">
                <h4>${formatGoalType(goal.type)}</h4>
                <p>${goal.current} / ${goal.target} ${getGoalUnit(goal.type)}  ${goal.period}</p>
                <div class="goal-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${progressPercent}%"></div>
                    </div>
                    <div class="progress-text">
                        <span>${Math.round(progressPercent)}% Complete</span>
                    </div>
                </div>
            </div>
            <div class="goal-actions">
                <button class="btn-icon" onclick="editGoal(${goal.id})">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="btn-icon" onclick="deleteGoal(${goal.id})">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        `;
        goalsContainer.appendChild(goalItem);
    });
}

function handleGoalCreation(e) {
    e.preventDefault();
    
    const type = document.getElementById('goal-type').value;
    const target = parseInt(document.getElementById('goal-target').value);
    const period = document.getElementById('goal-period').value;
    
    if (type && target && period) {
        const newGoal = {
            id: Date.now(),
            userId: currentUser?.id || 1,
            type,
            target,
            current: 0,
            period,
            status: 'active'
        };
        
        sampleGoals.push(newGoal);
        
        showToast('Goal created successfully!', 'success');
        updateActiveGoals();
        updateDashboardGoals();
        
        // Reset form
        e.target.reset();
    } else {
        showToast('Please fill in all required fields.', 'error');
    }
}

// Progress Functions
function updateProgressSection() {
    setTimeout(() => {
        initializeProgressCharts();
    }, 100);
}

// History Functions
function updateHistorySection() {
    updateHistoryList();
}

function updateHistoryList(filteredActivities = null) {
    const historyContainer = document.getElementById('history-list');
    if (!historyContainer) return;
    
    const activities = filteredActivities || sampleActivities;
    historyContainer.innerHTML = '';
    
    activities.reverse().forEach(activity => {
        const historyItem = document.createElement('div');
        historyItem.className = 'history-item';
        historyItem.innerHTML = `
            <div class="history-icon">
                <i class="${getActivityIcon(activity.type)}"></i>
            </div>
            <div class="history-info">
                <h4>${formatActivityType(activity.type)}</h4>
                <p>${formatDate(activity.date)} ${activity.category ? ' ' + activity.category : ''}</p>
            </div>
            <div class="history-value">
                ${formatActivityValue(activity)}
            </div>
            <div class="history-actions">
                <button class="btn-icon" onclick="editActivity(${activity.id})">
                    <i class="fas fa-edit"></i>
                </button>
            </div>
        `;
        historyContainer.appendChild(historyItem);
    });
}

function applyHistoryFilters() {
    const typeFilter = document.getElementById('history-filter-type').value;
    const dateFilter = document.getElementById('history-filter-date').value;
    
    let filteredActivities = [...sampleActivities];
    
    if (typeFilter !== 'all') {
        filteredActivities = filteredActivities.filter(activity => activity.type === typeFilter);
    }
    
    // Date filtering logic would go here
    // For demo purposes, we'll just use all activities
    
    updateHistoryList(filteredActivities);
    showToast('Filters applied successfully!', 'info');
}

// Quick Log Functions
function showLogActivity(type) {
    const modal = document.getElementById('quick-log-modal');
    const modalTitle = document.getElementById('modal-title');
    const quickValue = document.getElementById('quick-value');
    const quickUnit = document.getElementById('quick-unit');
    
    if (modal && modalTitle && quickValue && quickUnit) {
        modalTitle.textContent = `Log ${formatActivityType(type)}`;
        quickValue.value = '';
        quickValue.dataset.type = type;
        quickUnit.textContent = getActivityUnit(type);
        modal.style.display = 'flex';
        quickValue.focus();
    }
}

function handleQuickLog(e) {
    e.preventDefault();
    
    const quickValue = document.getElementById('quick-value');
    const type = quickValue.dataset.type;
    const value = parseInt(quickValue.value);
    
    if (type && value) {
        const newActivity = {
            id: Date.now(),
            userId: currentUser?.id || 1,
            type,
            value,
            date: new Date().toISOString().split('T')[0]
        };
        
        sampleActivities.push(newActivity);
        
        showToast(`${formatActivityType(type)} logged successfully!`, 'success');
        closeModal('quick-log-modal');
        updateDashboardStats();
        updateRecentActivities();
    } else {
        showToast('Please enter a valid value.', 'error');
    }
}

// Utility Functions
function calculateBMI(height, weight) {
    const heightInMeters = height / 100;
    return weight / (heightInMeters * heightInMeters);
}

function getBMICategory(bmi) {
    if (bmi < 18.5) return 'Underweight';
    if (bmi < 25) return 'Normal';
    if (bmi < 30) return 'Overweight';
    return 'Obese';
}

function formatActivityType(type) {
    const types = {
        steps: 'Steps',
        water: 'Water Intake',
        workout: 'Workout',
        calories: 'Calories Burned'
    };
    return types[type] || type;
}

function formatGoalType(type) {
    const types = {
        daily_steps: 'Daily Steps',
        weekly_workouts: 'Weekly Workouts',
        daily_water: 'Daily Water',
        weight_loss: 'Weight Target',
        daily_calories: 'Daily Calories'
    };
    return types[type] || type;
}

function getGoalUnit(type) {
    const units = {
        daily_steps: 'steps',
        weekly_workouts: 'workouts',
        daily_water: 'glasses',
        weight_loss: 'kg',
        daily_calories: 'calories'
    };
    return units[type] || '';
}

function getActivityUnit(type) {
    const units = {
        steps: 'steps',
        water: 'glasses',
        workout: 'minutes',
        calories: 'calories'
    };
    return units[type] || '';
}

function getActivityIcon(type) {
    const icons = {
        steps: 'fas fa-walking',
        water: 'fas fa-tint',
        workout: 'fas fa-dumbbell',
        calories: 'fas fa-fire'
    };
    return icons[type] || 'fas fa-chart-line';
}

function formatActivityValue(activity) {
    const unit = getActivityUnit(activity.type);
    return `${activity.value.toLocaleString()} ${unit}`;
}

function formatDate(dateString) {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', { 
        month: 'short', 
        day: 'numeric' 
    });
}

function getTodayActivities() {
    const today = new Date().toISOString().split('T')[0];
    return sampleActivities.filter(activity => activity.date === today);
}

// Modal Functions
function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.style.display = 'none';
    }
}

// FAB Functions
function toggleFabMenu() {
    const fabMenu = document.getElementById('fab-menu');
    if (fabMenu) {
        fabMenu.classList.toggle('active');
    }
}

// Toast Notifications
function showToast(message, type = 'info') {
    const toastContainer = document.getElementById('toast-container');
    if (!toastContainer) return;
    
    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    
    const icons = {
        success: 'fas fa-check-circle',
        error: 'fas fa-exclamation-circle',
        warning: 'fas fa-exclamation-triangle',
        info: 'fas fa-info-circle'
    };
    
    toast.innerHTML = `
        <div class="toast-icon">
            <i class="${icons[type]}"></i>
        </div>
        <div class="toast-message">${message}</div>
        <button class="toast-close" onclick="this.parentElement.remove()">
            <i class="fas fa-times"></i>
        </button>
    `;
    
    toastContainer.appendChild(toast);
    
    // Auto remove after 5 seconds
    setTimeout(() => {
        if (toast.parentElement) {
            toast.remove();
        }
    }, 5000);
}

// Edit/Delete Functions (Placeholder implementations)
function editActivity(id) {
    showToast('Edit functionality would be implemented here.', 'info');
}

function deleteActivity(id) {
    const index = sampleActivities.findIndex(activity => activity.id === id);
    if (index !== -1) {
        sampleActivities.splice(index, 1);
        showToast('Activity deleted successfully!', 'success');
        updateRecentActivities();
        updateHistoryList();
    }
}

function editGoal(id) {
    showToast('Edit functionality would be implemented here.', 'info');
}

function deleteGoal(id) {
    const index = sampleGoals.findIndex(goal => goal.id === id);
    if (index !== -1) {
        sampleGoals.splice(index, 1);
        showToast('Goal deleted successfully!', 'success');
        updateActiveGoals();
        updateDashboardGoals();
    }
}

// Click outside to close modals
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal')) {
        e.target.style.display = 'none';
    }
    
    // Close FAB menu when clicking outside
    if (!e.target.closest('.fab')) {
        const fabMenu = document.getElementById('fab-menu');
        if (fabMenu) {
            fabMenu.classList.remove('active');
        }
    }
});

// Keyboard shortcuts
document.addEventListener('keydown', function(e) {
    // Escape key closes modals
    if (e.key === 'Escape') {
        const modals = document.querySelectorAll('.modal');
        modals.forEach(modal => {
            if (modal.style.display === 'flex') {
                modal.style.display = 'none';
            }
        });
        
        // Close FAB menu
        const fabMenu = document.getElementById('fab-menu');
        if (fabMenu) {
            fabMenu.classList.remove('active');
        }
    }
});
</script>
</body>
</html>
